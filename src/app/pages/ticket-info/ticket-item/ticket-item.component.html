<div class="ticket-info-wrap">
    <div>
        <div class="m-3">
            <a routerLink="/tickets/tickets-list">Back</a>
        </div>       
        <div class="mt-4">
            <h4>Tour information</h4>
            <p><strong>Name</strong> {{ticket?.name}}</p>
            <p><strong>About</strong> {{ticket?.description}}</p>
            <p><strong>Operator</strong> {{ticket?.tourOperator}}</p>
            <p><strong>Price</strong> {{ticket?.price}}</p>

        
        </div>

        <div class="mt-4">
            <h4>Personal information</h4>
            <div class="mt-3 user-info" [formGroup]="userForm" (ngSubmit)="onSubmit()">
                <div class="mt-3">
                    <!-- <span class="mx-3">Name</span> -->
                    <ng-container *ngTemplateOutlet="userFieldTitle; context:{titleValue:'Name'}"></ng-container>
                    <input type="text"
                    class="mt-3"
                    pInputText
                    formControlName="firstName"
                    />
                </div>

                <div class="mt-3">
                    <ng-container *ngTemplateOutlet="userFieldTitle; context:{titleValue:'Surname'}"></ng-container>
                    <!-- <span class="mx-3">Surname</span> -->
                    <input type="text"
                    class="mt-3"
                    pInputText
                    formControlName="lastName"
                    />
                </div>

                <div class="mt-3">
                    <span class="mx-3">Card number</span>
                    <input type="text"
                    class="mt-3"
                    pInputText
                    formControlName="cardNumber"
                    />
                </div>

                <div class="mt-3">
                    <span class="mx-3">Age</span>
                    <p-inputNumber
                    formControlName="age"
                    [showButtons]="true">
                    </p-inputNumber>
                </div>

                <div class="mt-3">
                    <span class="mx-3">Bith day</span>
                    <p-calendar
                    formControlName="birthDay"
                    (onSelect)="selectDate($event)">
                    </p-calendar>
                </div>

                <div class="mt-3">
                    <span class="mx-3">Citizenship</span>
                    <input type="text"
                    class="mt-3"
                    pInputText
                    formControlName="citizen"
                    />
                </div>

                <div class="mt-4">
                    <button class="btn-success btn" type="submit"
                     (click)="initTour()"
                     [disabled]="!userForm.valid">Go to checkout</button>
                </div>


            </div>
        </div>

        <div class="mt-4">
            <h4>Nearest tours</h4>

            <div>
                <input #ticketSearch [(ngModel)]="ticketSearchValue" type="text" pInputText />
            </div>

            <p-carousel [value]="nearestTours">
                <ng-template pTemplate="header"></ng-template>
                <ng-template let-tour pTemplate="item">
                    <p><strong>Name </strong>{{tour.name}}</p>
                    <p><strong>Region </strong>{{tour.region.name}}</p>
                    <div class="ticket-img-nearest">
                        <img class="w-50 h-50" src="http://localhost:3000/tour-item/img/{{tour.img}}"/> 
                    </div>
                </ng-template>

            </p-carousel>
        </div>

    </div>
</div>

<ng-template #userFieldTitle let-value="titleValue">
    <span class="mx-3">{{value}}</span>
</ng-template>